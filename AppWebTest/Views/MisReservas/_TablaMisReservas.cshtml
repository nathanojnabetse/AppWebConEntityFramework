@using AppWebTest.Models;
@model List<ReservaCLS>
@{
    ViewBag.Title = "Index";
    int c = 1;
    decimal total = 0;
}

<h2>Index</h2>

<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Correlativo</th>
            <th>Lugar origen</th>
            <th>Lugar Destino</th>
            <th>Fecha Viaje</th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>Subtotal</th>
            <th>Operaciones</th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                @{
                    string fechacadena = item.fechaviaje.ToString("yyyy-MM-dd HH:mm");
                    var subtotal = item.cantidad * item.precio;
                    total += subtotal;
                }
                <td>@c</td>
                <td>@item.lugarOrigen</td>
                <td>@item.lugarDestino</td>
                <td>@fechacadena</td>
                <td>@item.cantidad</td>
                <td>@item.precio</td>
                <td>@subtotal</td>
                <td>
                    <button onclick="Eliminar(@item.iidViaje)" class="btn btn-danger glyphicon glyphicon-trash">
                    </button>
                </td>
            </tr>
            c++;
        }
    </tbody>
    <tfoot>
        <tr>
            <td colspan="6" align="right" style="font-weight:bold">Total</td>
            <td style="color:black;font-weight:bold" id="lblTotal">@total</td>
        </tr>
    </tfoot>

</table>